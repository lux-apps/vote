import { Options, SentrySDKBuildFlags } from "./types";
export type SentryBuildPluginManager = ReturnType<typeof createSentryBuildPluginManager>;
/**
 * Creates a build plugin manager that exposes primitives for everything that a Sentry JavaScript SDK or build tooling may do during a build.
 *
 * The build plugin manager's behavior strongly depends on the options that are passed in.
 */
export declare function createSentryBuildPluginManager(userOptions: Options, bundlerPluginMetaContext: {
    /**
     * E.g. `webpack` or `nextjs` or `turbopack`
     */
    buildTool: string;
    /**
     * E.g. `[sentry-webpack-plugin]` or `[@sentry/nextjs]`
     */
    loggerPrefix: string;
}): {
    /**
     * A logger instance that takes the options passed to the build plugin manager into account. (for silencing and log level etc.)
     */
    logger: import("./logger").Logger;
    /**
     * Options after normalization. Includes things like the inferred release name.
     */
    normalizedOptions: {
        org: string | undefined;
        project: string | undefined;
        authToken: string | undefined;
        url: string;
        headers: Record<string, string> | undefined;
        debug: boolean;
        silent: boolean;
        errorHandler: ((err: Error) => void) | undefined;
        telemetry: boolean;
        disable: boolean;
        sourcemaps: {
            disable?: boolean | undefined;
            assets?: string | string[] | undefined;
            ignore?: string | string[] | undefined;
            rewriteSources?: ((source: string, map: any) => string) | undefined;
            filesToDeleteAfterUpload?: string | string[] | Promise<string | string[] | undefined> | undefined;
        } | undefined;
        release: {
            name: string | undefined;
            inject: boolean;
            create: boolean;
            finalize: boolean;
            vcsRemote: string;
            setCommits: false | (import("./types").SetCommitsOptions & {
                shouldNotThrowOnFailure?: boolean | undefined; /**
                 * E.g. `[sentry-webpack-plugin]` or `[@sentry/nextjs]`
                 */
            }) | undefined;
            dist?: string | undefined;
            deploy?: {
                env: string;
                started?: string | number | undefined;
                finished?: string | number | undefined;
                time?: number | undefined;
                name?: string | undefined;
                url?: string | undefined;
            } | undefined;
            uploadLegacySourcemaps?: string | import("./types").IncludeEntry | (string | import("./types").IncludeEntry)[] | undefined;
        };
        bundleSizeOptimizations: {
            excludeDebugStatements?: boolean | undefined;
            excludeTracing?: boolean | undefined;
            excludeReplayCanvas?: boolean | undefined;
            excludeReplayShadowDom?: boolean | undefined;
            excludeReplayIframe?: boolean | undefined;
            excludeReplayWorker?: boolean | undefined;
        } | undefined;
        reactComponentAnnotation: {
            enabled?: boolean | undefined;
            ignoredComponents?: string[] | undefined;
        } | undefined;
        _metaOptions: {
            telemetry: {
                metaFramework: string | undefined;
            };
        };
        applicationKey: string | undefined;
        moduleMetadata: import("./types").ModuleMetadata | import("./types").ModuleMetadataCallback | undefined;
        _experiments: {
            injectBuildInformation?: boolean | undefined;
        } & Record<string, unknown>;
    };
    /**
     * Magic strings and their replacement values that can be used for bundle size optimizations. This already takes
     * into account the options passed to the build plugin manager.
     */
    bundleSizeOptimizationReplacementValues: SentrySDKBuildFlags;
    /**
     * Metadata that should be injected into bundles if possible. Takes into account options passed to the build plugin manager.
     */
    bundleMetadata: Record<string, unknown>;
    /**
     * Contains utility functions for emitting telemetry via the build plugin manager.
     */
    telemetry: {
        /**
         * Emits a `Sentry Bundler Plugin execution` signal.
         */
        emitBundlerPluginExecutionSignal(): Promise<void>;
    };
    /**
     * Will potentially create a release based on the build plugin manager options.
     *
     * Also
     * - finalizes the release
     * - sets commits
     * - uploads legacy sourcemaps
     * - adds deploy information
     */
    createRelease(): Promise<void>;
    /**
     * Uploads sourcemaps using the "Debug ID" method. This function takes a list of build artifact paths that will be uploaded
     */
    uploadSourcemaps(buildArtifactPaths: string[]): Promise<void>;
    /**
     * Will delete artifacts based on the passed `sourcemaps.filesToDeleteAfterUpload` option.
     */
    deleteArtifacts(): Promise<void>;
    createDependencyOnBuildArtifacts: () => () => void;
};
//# sourceMappingURL=build-plugin-manager.d.ts.map